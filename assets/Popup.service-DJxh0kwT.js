var u=Object.defineProperty;var f=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var a=(e,t,r)=>f(e,typeof t!="symbol"?t+"":t,r);import{a as c}from"./index-CGfBrfuT.js";function L(e,t="",r="a"){const n=document.createElement(r);return n.setAttribute("routeLink",e),n.textContent=t,n}class d{constructor(t){a(this,"element");this.selector=t}createComponent(t){const r=document.createElement(this.selector);return r.innerHTML=t,r}destroy(){this.element.remove()}}class v extends d{constructor(t){super(t.selector),this.props=t}render(){return this.element=document.createElement("div"),["popup-wrapper",...this.props.classes??[]].forEach(n=>this.element.classList.add(n)),this.element.append(...this.props.children),(this.props.parent||document.body).appendChild(this.element),this.element}destroy(){this.element.remove()}}class D extends d{constructor(t,r){super(t),this.props=r}render(){var r,n,s;const t=document.createElement(((r=this.props)==null?void 0:r.tag)||"div");return(n=this.props)!=null&&n.children&&this.props.children.forEach(o=>t.appendChild(o)),(s=this.props)!=null&&s.classes&&this.props.classes.forEach(o=>t.classList.add(o)),t}}var m=Object.getOwnPropertyDescriptor,y=(e,t,r,n)=>{for(var s=n>1?void 0:n?m(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=i(s)||s);return s};let l=class{constructor(){a(this,"left",!1);a(this,"right",!1);a(this,"isMobile");this.isMobile=/Mobi|Android/i.test(navigator.userAgent),this.isMobile?this.createMobileControls():this.setupKeyboardControls()}setupKeyboardControls(){window.addEventListener("keydown",e=>{e.key==="ArrowLeft"&&(this.left=!0),e.key==="ArrowRight"&&(this.right=!0)}),window.addEventListener("keyup",e=>{e.key==="ArrowLeft"&&(this.left=!1),e.key==="ArrowRight"&&(this.right=!1)})}createMobileControls(){const e=this.createButton("←","left",()=>this.left=!0,()=>this.left=!1),t=this.createButton("→","right",()=>this.right=!0,()=>this.right=!1);document.body.appendChild(e),document.body.appendChild(t)}createButton(e,t,r,n){const s=document.createElement("button");return s.textContent=e,s.style.position="fixed",s.style.bottom="20px",s.style[t]="20px",s.style.width="80px",s.style.height="80px",s.style.fontSize="30px",s.style.borderRadius="50%",s.style.border="none",s.style.background="rgba(0, 0, 0, 0.5)",s.style.color="#fff",s.style.boxShadow="0 4px 8px rgba(0,0,0,0.3)",s.style.cursor="pointer",s.style.touchAction="none",s.addEventListener("touchstart",o=>{o.preventDefault(),r()}),s.addEventListener("touchend",o=>{o.preventDefault(),n()}),s}};l=y([c()],l);var g=Object.getOwnPropertyDescriptor,b=(e,t,r,n)=>{for(var s=n>1?void 0:n?g(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=i(s)||s);return s};const w=800,C=600;let h=class{constructor(){a(this,"canvas");a(this,"ctx");a(this,"options",{width:w,height:C});this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}build(e,t){return this.options={...this.options,...t},this.canvas.width=this.options.width,this.canvas.height=this.options.height,this.options.classes&&this.options.classes.forEach(r=>this.canvas.classList.add(r)),e.appendChild(this.canvas),this}updateSize(e,t){this.canvas.width=e,this.canvas.height=t}render(...e){this.ctx.clearRect(0,0,this.options.width,this.options.height),e.forEach(t=>t.draw(this.ctx))}};h=b([c()],h);var x=Object.getOwnPropertyDescriptor,E=(e,t,r,n)=>{for(var s=n>1?void 0:n?x(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=i(s)||s);return s};let p=class{open(e,t){if("children"in e){new v(e).render();return}new e(t).render()}};p=E([c()],p);export{d as B,D as C,l as I,v as P,h as a,p as b,L as c};
